<!--
  @description       :
  @author            : Inetum Team <ruben.sanchez-gonzalez@inetum.com>
  @group             :
  @last modified on  : 09-09-2025
  @last modified by  : Inetum Team <ruben.sanchez-gonzalez@inetum.com>
-->
<template>
    <lightning-button-stateful
        class="slds-button slds-m-left_x-small"
        label-when-off="Switch to Allotments"
        label-when-on="Switch to Prices"
        icon-name-when-off="utility:number_input"
        icon-name-when-on="utility:money"
        variant="brand-outline"
        selected={quotaSelected}
        onclick={handleClick}
        disabled={preventChange}
    >
    </lightning-button-stateful>

    <lightning-accordion allow-multiple-sections-open active-section-name={activeSections}>
        <lightning-accordion-section name="rooms" label={roomHeaderLabel}>
            <div data-id={roomsContainer} class="accordion-container slds-p-around_medium slds-m-bottom_medium">
                <c-quote-manager-rate-price-table
                    onsave={handleSave}
                    onclosemodal={close}
                    render-rooms="true"
                    rows-data={roomsData}
                    quota-selected={quotaSelected}
                ></c-quote-manager-rate-price-table>
            </div>
        </lightning-accordion-section>

        <lightning-accordion-section name="supplements" label={supplementsHeaderLabel}>
            <div
                class="dt-wrap slds-is-relative"
                aria-disabled={disableTable}
                data-disabled={disableTable}
                onkeydown={handleKeydownWhenDisabled}
            >
                <div data-id={supplContainer} class="accordion-container slds-p-around_medium slds-m-bottom_medium">
                    <c-quote-manager-rate-price-table
                        onsave={handleSave}
                        render-rooms="false"
                        rows-data={supplData}
                    ></c-quote-manager-rate-price-table>
                </div>
                <template if:true={disableTable}>
                    <div class="dt-overlay" title="Bloqueado"></div>
                </template>
            </div>
        </lightning-accordion-section>
    </lightning-accordion>
</template>